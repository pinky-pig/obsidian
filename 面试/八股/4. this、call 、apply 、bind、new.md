# TL;DR

**å‡½æ•°å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ï¼ï¼**
this è°è°ƒç”¨æŒ‡å‘è°ã€‚
callã€applyã€bindæ”¹å˜thisæŒ‡å‘ã€‚

# this

è°è°ƒç”¨æŒ‡å‘è°ã€‚

## 1. é»˜è®¤ç»‘å®š
æ²¡æœ‰äººè°ƒç”¨ï¼Œç›´æ¥è¿è¡Œï¼Œå…¶å®å°±æ˜¯ window è°ƒç”¨äº†ã€‚æ¯”å¦‚åœ¨ `js` ä¸­ï¼Œ`window.navigator` è¿™æ ·è°ƒç”¨å’Œ `navigator`è¿™æ ·æ˜¯ä¸€æ ·çš„ã€‚

```js
console.log(this === window); // true
function fn() {
  console.log(this === window); // true
}
fn();
```
## 2. éšå¼ç»‘å®š

```js
var person = {
  name: "John",
  sayHello: function() {
    console.log("Hello, " + this.name + "!");
  }
};
person.sayHello(); // è¾“å‡º Hello, John!
```
## 3. æ˜¾å¼ç»‘å®š

é€šè¿‡Â `call`ã€`apply`Â æˆ–Â `bind` æ”¹å˜ `this` æ–¹å‘ã€‚
```js
function greet() {
  console.log("Hello, " + this.name + "!");
}
var person = { name: "Alice" };
greet.call(person); // è¾“å‡º Hello, Alice!
```

## 4. new ç»‘å®š

ä½¿ç”¨Â `new`Â å…³é”®å­—è°ƒç”¨æ„é€ å‡½æ•°æ—¶ï¼Œ`this`Â æŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚
```js
function Person(name) {
  this.name = name;
}

var john = new Person("John");
console.log(john.name); // è¾“å‡º John
```

## 5. ç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰ this ï¼ŒæŒ‡å‘ä¸Šä¸€å±‚
## 6. ç‰¹æ®Šæƒ…å†µ

```js
var obj = {
  data: "I am an object",
  getData: function() {
    console.log(this.data);
  }
};

var getDataCopy = obj.getData;
getDataCopy(); // è¾“å‡º undefined
```

è¿™é‡Œå¾ˆæ˜æ˜¾ï¼Œæœ€åä¸€è¡Œçš„ `getDataCopy()` è°ƒç”¨ï¼Œå…¶å®æ˜¯`window.getDataCopy()`ï¼Œè¿™ä¸¤ç§å†™æ³•æ˜¯ä¸€æ ·çš„ï¼ˆå¯ä»¥åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­è¯•ä¸€ä¸‹ï¼‰ã€‚è€Œè¿™é‡Œçš„è°ƒç”¨ï¼Œè‡ªç„¶æ˜¯ `window` è°ƒç”¨ï¼Œæ ¹æ®**è°è°ƒç”¨`this`æŒ‡å‘è°**çš„åŸåˆ™ï¼Œè¿™é‡Œè°ƒç”¨çš„å‡½æ•° `getData` ä¸­çš„ this æŒ‡å‘çš„å…¶å®æ˜¯ `window` ï¼Œæ‰€ä»¥ç»“æœè‡ªç„¶æ‰“å° `undefined`ã€‚è€Œå¦‚æœè¿™æ ·è°ƒç”¨ `obj.getData()` ï¼Œè¾“å‡ºçš„ç»“æœè‡ªç„¶æ˜¯ `I am an object` ã€‚

# callã€applyã€bind

é¦–å…ˆä»å«ä¹‰ä¸Šè¯´ ï¼Œcall å’Œ apply ä¸€æ ·ï¼Œéƒ½æ˜¯è°ƒç”¨çš„æ„æ€ï¼Œå®é™…è¿™ä¿©ä¹Ÿæ˜¯ä¸€æ ·ã€‚è€Œ bind æ˜¯ç»‘å®šï¼Œè‡ªç„¶è·Ÿå‰ä¿©æœ‰æ‰€åŒºåˆ«ã€‚

call å’Œ apply ç”¨æ³•ä¸€æ ·ï¼Œåªæ˜¯ä¼ å‚ä¸ä¸€æ ·ã€‚ apply æ˜¯ä¼ ä¸€ä¸ªæ•°ç»„ï¼Œ call æ˜¯å¤šä¸ªå‚æ•°ã€‚*apply æ˜¯ä»¥ a å¼€å¤´ï¼Œå…¶å‚æ•° array ä¹Ÿæ˜¯ a å¼€å¤´ã€‚*

è€Œbind å’Œå®ƒä¿©çš„åŒºåˆ«å°±æ˜¯ï¼Œåªæ˜¯ç»‘å®šï¼Œä¸ä¼šè°ƒç”¨ã€‚

```js
let person1 = {
    name:"å¼ ä¸‰",
    age:19,
    say(...arg){
        console.log(`
	        å§“åï¼š${this.name},
	        å¹´é¾„ï¼š${this.age},
	        å‚æ•°ï¼š${arg}
	    `)
    }
}

let person2 = {
    name:"æå››",
    age:23
}

// å§“åï¼šæå››,å¹´é¾„ï¼š23,å‚æ•°ï¼š1,2,3,4
person1.say.call(person2,1,2,3,4) 
// å§“åï¼šæå››,å¹´é¾„ï¼š23,å‚æ•°ï¼š1,2,3,4
person1.say.apply(person2,[1,2,3,4]) 

// æ²¡æœ‰ä»»ä½•æ‰“å° 
person1.say.bind(person2,1,2,3,4) 
// å§“åï¼šæå››,å¹´é¾„ï¼š23,å‚æ•°ï¼š1,2,3,4
person1.say.bind(person2,1,2,3,4)() 
// å§“åï¼šæå››,å¹´é¾„ï¼š23,å‚æ•°ï¼š1,2,3,4
const result = person1.say.bind(person2,1,2,3,4)
result()
```

æ‰‹å†™ applyã€callã€bind å’Œ new å°±ä¸å±•å¼€äº†ğŸ˜ã€‚