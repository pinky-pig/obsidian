
> https://github.com/amandakelake/blog/issues/102
> https://juejin.cn/post/7250044070671695930?searchId=2023111022561541C2C4478F32C65D406C#heading-1
>https://github.com/amandakelake/blog/issues/104

### 基础

- **连接**

```bash
ssh root@47.116.13.177
```

- **查看系统版本**

```bash
# CentOS linux release 7.9.2009 (Core)
cat /etc/redhat-release
```

- **下载软件**

```bash
# 查看是否联网
ping www.baidu.com

yum install wget curl git vim iptables-services net-tools lsof
```

- **部署 Node.js 环境**
- **配置 Nginx**


### **部署Node.js环境**


**1. 使用NVM安装多个Node.js版本**

 >NVM（Node Version Manager）是Node.js的版本管理软件，使您可以轻松在Node.js各个版本间进行切换。适用于长期做node开发的人员或有快速更新node版本、快速切换node版本的场景。具体操作步骤如下：

**a. 安装分布式版本管理系统Git。**

```bash
yum install git -y
```

**b. 使用Git将NVM的源码克隆到本地的~/.nvm目录下，并检查最新版本。**

> 说明：由于网络原因，可能会出现无法克隆的问题，建议您多尝试几次。

```bash
git clone https://gitee.com/mirrors/nvm.git ~/.nvm && cd ~/.nvm && git checkout `git describe --abbrev=0 --tags`
```

**c. 依次运行以下命令，配置NVM的环境变量。**

```bash
echo ". ~/.nvm/nvm.sh" >> /etc/profile
source /etc/profile
```

**d. 运行以下命令，修改npm镜像源为阿里云镜像，以加快Node.js下载速度。**

```bash
export NVM_NODEJS_ORG_MIRROR=https://npmmirror.com/mirrors/node
```

**e. 运行以下命令，查看Node.js版本。**

```bash
nvm list-remote
```

**f. 安装多个Node.js版本。**

        i. 安装v14.0.0版本。

```bash
nvm install v14.0.0
```

        ii. 安装v16.0.0版本。

```bash
nvm install v16.0.0
```

**g. 查看已安装的Node.js版本。**

```bash
nvm ls
```

> 返回结果如下所示，表示当前已安装v14.0.0、v16.0.0两个版本，正在使用的是v16.0.0版本。

```
        v14.0.0
->      v16.0.0
default -> v14.0.0
iojs -> N/A (default)
unstable -> N/A (default)
node -> stable (-> v16.0.0) (default)
stable -> 16.0 (-> v16.0.0) (default)
lts/* -> lts/hydrogen (-> N/A)
lts/argon -> v4.9.1 (-> N/A)
lts/boron -> v6.17.1 (-> N/A)
lts/carbon -> v8.17.0 (-> N/A)
lts/dubnium -> v10.24.1 (-> N/A)
lts/erbium -> v12.22.12 (-> N/A)
lts/fermium -> v14.21.3 (-> N/A)
lts/gallium -> v16.20.1 (-> N/A)
lts/hydrogen -> v18.16.1 (-> N/A)
```

        说明：您可以运行nvm use <版本号>命令切换Node.js的版本。例如，切换至Node.js v18.0.0版本的命令为nvm use v18.0.0。

### **安装 Nginx**

**1. 开启 Nginx 端口，添加 80 端口**

![[Pasted image 20231201115439.png]]

**2.安装 Nginx 依赖库**

```bash
yum install openssl zlib pcre
```

**3. 安装 Nginx 库 **

```bash
rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm
```

**4. 执行安装 Nginx **

```bash
yum install nginx
```

**5. 启动服务**

```bash
systemctl start nginx
```

**6. 查看服务状态**

```bash
systemctl status nginx
```

然后访问公网ip即可


**7. 使用 [File Zilla](https://filezilla-project.org/download.php?type=client) 发送文件**

![[Pasted image 20231206173209.png]]

**8. 配置 Nginx**

```bash
# 启动服务
start nginx
# 退出服务
nginx -s quit
# 强制关闭服务
nginx -s stop
# 重载服务
nginx -s reload　　（重载服务配置文件，类似于重启，服务不会中止）
# 验证配置文件
nginx -t
# 使用配置文件
nginx -c "配置文件路径"
# 使用帮助
nginx -h

systemctl start nginx
systemctl status nginx
```

a. 打开配置文件

```bash
vi /etc/nginx/nginx.conf
```

b. 编辑配置文件

按 **`i`** 进入编辑模式开始编辑

c. 保存

按  **`ESC`** 退出编辑模式

输入 **`:wq`** 保存并退出
